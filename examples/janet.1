.\"
.\" Generated by predoc at 2025-09-07T13:24:53Z
.\"
.Dd September 7, 2025
.Dt JANET 1
.Os Janet 
.
.Sh NAME
.Nm janet
.Nd run the Janet language abstract machine
.
.Sh SYNOPSIS
.Nm
.Oo
.Fl hvsrpnqik
.Oc
.Oo
.Fl e 
.Ar \&SOURCE
.Oc
.Oo
.Fl E 
.Ar \&SOURCE 
.Ar \&…ARGUMENTS
.Oc
.Oo
.Fl l 
.Ar \&MODULE
.Oc
.Oo
.Fl m 
.Ar \&PATH
.Oc
.Oo
.Fl c 
.Ar \&MODULE 
.Ar \&JIMAGE
.Oc
.Oo
.Fl w 
.Ar \&LEVEL
.Oc
.Oo
.Fl x 
.Ar \&LEVEL
.Oc
.Oo
.Fl -
.Oc
.Ar \&script 
.Ar \&args…
.
.Sh DESCRIPTION
Janet is a functional and imperative programming language and bytecode interpreter.
It is a Lisp-like language,
but lists are replaced by other data structures (arrays,
tables,
structs,
tuples).
The language also features bridging to native code written in C,
meta-programming with macros,
and bytecode assembly.
.Pp
There is a repl for trying out the language,
as well as the ability to run script files.
This client program is separate from the core runtime,
so Janet could be embedded into other programs.
Try Janet in your browser at 
.Lk https://janet-lang.org "the Janet Language website" .
.Pp
Implemented in mostly standard C99,
Janet runs on Windows,
Linux and macOS.
The few features that are not standard C99 (dynamic library loading,
compiler specific optimizations),
are fairly straight forward.
Janet can be easily ported to most new platforms.
.
.Sh REPL KEY-BINDINGS
.Pp
.Bl -tag -width Ds
.It Xo Home
.Xc
Move cursor to the beginning of input line.
.It Xo End
.Xc
Move cursor to the end of input line.
.It Xo Left/Right
.Xc
Move cursor in input line.
.It Xo Up/Down
.Xc
Go backwards and forwards through history.
.It Xo Tab
.Xc
Complete current symbol,
or show available completions.
.It Xo Delete
.Xc
Delete one character after the cursor.
.It Xo Backspace
.Xc
Delete one character before the cursor.
.It Xo Ctrl-A
.Xc
Move cursor to the beginning of input line.
.It Xo Ctrl-B
.Xc
Move cursor one character to the left.
.It Xo Ctrl-D
.Xc
If on a newline,
indicate end of stream and exit the repl.
.It Xo Ctrl-E
.Xc
Move cursor to the end of input line.
.It Xo Ctrl-F
.Xc
Move cursor one character to the right.
.It Xo Ctrl-H
.Xc
Delete one character before the cursor.
.It Xo Ctrl-K
.Xc
Delete everything after the cursor on the input line.
.It Xo Ctrl-L
.Xc
Clear the screen.
.It Xo Ctrl-N
.Xc
Go forwards and backwards through history.
.It Xo Ctrl-U
.Xc
Delete everything before the cursor on the input line.
.It Xo Ctrl-W
.Xc
Delete one word before the cursor.
.It Xo Ctrl-G
.Xc
Show documentation for the current symbol under the cursor.
.It Xo Ctrl-Q
.Xc
Clear the current command,
including already typed lines.
.It Xo Alt-B/
.Xc
Move cursor backwards and forwards one word.
.It Xo Alt-D
.Xc
Delete one word after the cursor.
.It Xo Alt-,
.Xc
Go to earliest item in history.
.It Xo Alt-.
.Xc
Go to last item in history.
.El
.Pp
The repl keybindings are loosely based on a subset of GNU readline,
although 
.Nm
does not use GNU readline internally for the repl.
It is a limited substitute for GNU readline,
and does not handle utf-8 input or other mutlibyte input well.
.Pp
To disable the built-in repl input handling,
pass the 
.Fl s
option to 
.Nm ,
and use a program like 
.Xr rlwrap 1\&
with 
.Nm
to provide input.
.Pp
For key bindings that operate on words,
a word is considered to be a sequence of characters that does not contain whitespace.
.
.Sh DOCUMENTATION
For more documentation,
see 
.Lk https://janet-lang.org "the Janet Language website" .
.Pp
The 
.Ql "doc"
macro can also be used via the REPL (Read Eval Print Loop)
to view documentation on individual bindings.
.
.Sh OPTIONS
.Pp
.Bl -tag -width Ds
.It Xo 
.Fl h
.Xc
Shows the usage text and exits immediately.
.It Xo 
.Fl v
.Xc
Shows the version text and exits immediately.
.It Xo 
.Fl s
.Xc
Read raw input from stdin and forgo prompt history and other readline-like features.
.It Xo 
.Fl e 
.Ar \&code
.Xc
Execute a string of Janet source.
Source code is executed in the order it is encountered,
so earlier arguments are executed before later ones.
.It Xo 
.Fl E 
.Ar \&code 
.Ar \&arguments…
.Xc
Execute a single Janet expression as a Janet short-fn,
passing the remaining command line arguments to the expression.
This allows more concise one-liners with command line arguments.
.Pp
Example:
.Ql "janet -E \(aq(print $0)\(aq 12"
is equivalent to 
.Ql "((short-fn (print $0)) 12)" ,
which is in turn equivalent to 
.Ql "((fn \(lBk] (print k)) 12)"
.Pp
See docs for the 
.Ql "short-fn"
function for more details.
.It Xo 
.Fl d
.Xc
Enable debug mode.
On all terminating signals as well the debug signal,
this will cause the debugger to come up in the REPL.
Same as calling 
.Ql "(setdyn :debug true)"
in a default repl.
.It Xo 
.Fl n
.Xc
Disable ANSI colors in the repl.
Has no effect if no repl is run.
.It Xo 
.Fl N
.Xc
Enable ANSI colors in the repl.
Has no effect if no repl is run.
.It Xo 
.Fl r
.Xc
Open a REPL (Read Eval Print Loop)
after executing all sources.
By default,
if 
.Nm
is called with no arguments,
a REPL is opened.
.It Xo 
.Fl R
.Xc
If using the REPL,
disable loading the user profile from the 
.Ev JANET_PROFILE
environment variable.
.It Xo 
.Fl p
.Xc
Turn on the persistent flag.
By default,
when 
.Nm
is executing commands from a file and encounters an error,
it will immediately exit after printing the error message.
In persistent mode,
.Nm
will keep executing commands after an error.
Persistent mode can be good for debugging and testing.
.It Xo 
.Fl q
.Xc
Hide the logo in the repl.
.It Xo 
.Fl k
.Xc
Don’t execute a script,
only compile it to check for errors.
Useful for linting scripts.
.It Xo 
.Fl m 
.Ar \&syspath
.Xc
Set the dynamic binding 
.Ql ":syspath"
to the string syspath so that 
.Nm
will load system modules from a directory different than the default.
The default is set when 
.Nm
is built,
and defaults to 
.Eo
.Pa /usr/local/lib/janet
.Ec
on Linux/Posix,
and 
.Eo
.Pa C:/Janet/Library
.Ec
on Windows.
This option supersedes 
.Ev JANET_PATH .
.It Xo 
.Fl c 
.Ar \&source 
.Ar \&output
.Xc
Precompiles Janet source code into an image,
a binary dump that can be efficiently loaded later.
Source should be a path to the Janet module to compile,
and output should be the file path of resulting image.
Output should usually end with the .jimage extension.
.It Xo 
.Fl i
.Xc
When this flag is passed,
a script passed to the interpreter will be treated as a Janet image file rather than a Janet source file.
.It Xo 
.Fl l 
.Ar \&lib
.Xc
Import a Janet module before running a script or repl.
Multiple files can be loaded in this manner,
and exports from each file will be made available to the script or repl.
.It Xo 
.Fl w 
.Ar \&level
.Xc
Set the warning linting level for 
.Nm .
This linting level should be one of 
.Ql ":relaxed" ,
.Ql ":none" ,
.Ql ":strict" ,
.Ql ":normal" ,
or a Janet number.
Any linting message that is of a greater lint level than this setting will be displayed as a warning,
but not stop compilation or execution.
.It Xo 
.Fl x 
.Ar \&level
.Xc
Set the error linting level for 
.Nm .
This linting level should be one of 
.Ql ":relaxed" ,
.Ql ":none" ,
.Ql ":strict" ,
.Ql ":normal" ,
or a Janet number.
Any linting message that is of a greater lint level will cause a compilation error and stop compilation.
.It Xo 
.Fl -
.Xc
Stop parsing command line arguments.
All arguments after this one will be considered file names and then arguments to the script.
.El
.
.Sh ENVIRONMENT
.Pp
.Bl -tag -width Ds
.It Xo 
.Ev JANET_PATH
.Xc
The location to look for Janet libraries.
This is the only environment variable 
.Nm
needs to find native and source code modules.
If no 
.Ev JANET_PATH
is set,
.Nm
will look in the default location set at compile time.
This should be a colon-separated list on Linux/Posix,
and a semi-colon-separated list on Windows,
though in most cases only a single directory should be used.
.It Xo 
.Ev JANET_PROFILE
.Xc
Path to a profile file that the interpreter will load before entering the REPL.
This profile file will not run for scripts,
though.
This behavior can be disabled with the 
.Fl R
option.
.It Xo 
.Ev JANET_HASHSEED
.Xc
To disable randomization of 
.Nm
‘s PRF (pseudorandom function family)
on startup,
one can set this variable.
This can have the effect of making programs deterministic that otherwise would depend on the random seed chosen at program start.
This variable does nothing in the default configuration of 
.Nm ,
as PRF is disabled by default.
Also,
.Ev JANET_REDUCED_OS
cannot be defined for this variable to have an effect.
.It Xo 
.Ev NO_COLOR
.Xc
Turn off color by default in the repl and in the error handler of scripts.
This can be changed at runtime via dynamic bindings 
.Ql "*err-color*"
and 
.Ql "*pretty-format*" ,
or via the command line parameters 
.Fl n
and 
.Fl N .
.El
.
.Sh AUTHORS
.An Calvin Rose Aq Mt calsrose@gmail.com
